package {	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;	public class EnemyManager {		private static var instance:EnemyManager;		public static function getInstance():EnemyManager {			if (instance == null)			{				instance = new EnemyManager  ;			}			return instance;		}		public function EnemyManager() {		}		private var gameLogic:GameLogic;		private var snake:Snake;				public function init(){			EnemyList = new Array();			gameLogic = GameLogic.getInstance();			snake = Snake.getInstance();		}		public var EnemyList:Array;		public var LAST_ENEMY_UPDATE = 0;				public var ENEMY_SPAWN_INTERVAL = 1000;		public function update(){						if (gameLogic.TOTAL_RUNNING_TIME - LAST_ENEMY_UPDATE >= ENEMY_SPAWN_INTERVAL){				spawnEnemy();				LAST_ENEMY_UPDATE = gameLogic.TOTAL_RUNNING_TIME;			}					}				private function spawnEnemy(){			var g:Grid = getRandomEmptyGrid();			var e:Enemy = new Enemy(g);			e.Type = Enemy.getRandomType();			EnemyList.push(e);		}				private function getRandomEmptyGrid():Grid{			var rndX = Math.floor(Math.random() * GridSystem.BATTLEFIELD_X);			var rndY = Math.floor(Math.random() * GridSystem.BATTLEFIELD_Y);			if (GridSystem.outOfBorder(rndX, rndY))				return getRandomEmptyGrid();			var g:Grid = GridSystem.GridArray[rndX][rndY];			if (snake.inBodyPartList(g))				return getRandomEmptyGrid();			for each (var enemy in EnemyList){				if (GridSystem.distance(g, enemy.grid) <= 2)					return getRandomEmptyGrid();			}			return g;		}				public static function reset(){			instance = null;		}	}}